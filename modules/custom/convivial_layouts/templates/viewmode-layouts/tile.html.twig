{#
/**
* Tile view mode.
*
* List of regions: title, summary, image.
*/
#}
{% set classes = [
  'tile',
] %}

{% set tile_content %}
  {% if content.title|render|striptags|trim %}
    <h3{{ region_attributes.title.addClass('layout__region', 'layout__region--title', 'tile__title') }}>
      {{ content.title }}
    </h3>
  {% endif %}
  {% if content.summary|render|striptags|trim %}
    <div{{ region_attributes.summary.addClass('layout__region', 'layout__region--summary', 'tile__summary') }}>
      {{ content.summary }}
    </div>
  {% endif %}
  {% if content.image|render %}
    <div{{ region_attributes.image.addClass('layout__region', 'layout__region--image', 'tile__image', 'image--decorative') }}>
      {{ content.image }}
    </div>
  {% endif %}
{% endset %}

{% set preview_layout %}
  <div{{ attributes.addClass(classes) }}>
    <h3{{ region_attributes.title.addClass('layout__region', 'layout__region--title', 'tile__title') }}>
      {{ content.title }}
    </h3>
    <div{{ region_attributes.summary.addClass('layout__region', 'layout__region--summary', 'tile__summary') }}>
      {{ content.summary }}
    </div>
    <div{{ region_attributes.image.addClass('layout__region', 'layout__region--image', 'tile__image', 'image--decorative') }}>
      {{ content.image }}
    </div>
  </div>
{% endset %}

{% set render_layout %}
  <div{{ attributes.addClass(classes) }}>
    {% if item_url %}
      <a href="{{ item_url }}" class="tile__link">
        {{ tile_content }}
      </a>
    {% else %}
      {{ tile_content }}
    {% endif %}
  </div>
{% endset %}

{% if in_preview %}
  {{ preview_layout }}
{% else %}
  {{ render_layout }}
{% endif %}
